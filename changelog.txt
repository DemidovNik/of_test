# Внесенные изменения


1. New Quick function >
Chartlength2Clock(length: integer) {
	DIM HoursStr AS MESSAGE;
	DIM MinutesStr AS MESSAGE;

	DIM H AS INTEGER;
	DIM M AS INTEGER;

	H = Int( length/3600 );
	M = Int( (length - (Int(length/3600))*3600)/60 );

	IF (H >= 10) AND (H < 15) THEN
	    HoursStr = "часов";
	ELSE
	    IF (H MOD 10) == 1  THEN
	        HoursStr = "час";
	    ELSE
	        IF ((H MOD 10) == 2) OR ((H MOD 10) == 3) OR ((H MOD 10) == 4)   THEN
	            HoursStr = "часа";
	        ELSE
	            HoursStr = "часов";
	        ENDIF;
	    ENDIF;
	ENDIF;

	IF (M >= 10) AND (M < 15) THEN
	    MinutesStr = "минут";
	ELSE
	    IF (M MOD 10) == 1  THEN
	        MinutesStr = "минута";
	    ELSE
	        IF ((M MOD 10) == 2) OR ((M MOD 10) == 3) OR ((M MOD 10) == 4)   THEN
	            MinutesStr = "минуты";
	        ELSE
	            MinutesStr = "минут";
	        ENDIF;
	    ENDIF;
	ENDIF;

	RETURN Text(H, "# "+ HoursStr) + Text( M,  " # " + MinutesStr + ":");
}



2. Window "Настройка: Плотномер" > 
На линии ползунка изменил условие показа,
Вставил, скопировав, секцию среднего значения по времени из окна Тренд: Весы
Текст > Value Display > String
	"Средняя плотность за " + CALL Chartlength2Clock(HTrend_K.ChartLength)
Тект > Visibility > 
	if (Ind_K\RBHisView==2) On
Рамка > Visibility > 
	if (Ind_K\RBHisView==2) On
Значение > Visibility > 
	if (Ind_K\RBHisView==2) On
Значение > Value Display > Analog >
	HTGetValue(HTrend_K.Name, HTrend_K.UpdateCount, 1, "PenAverageValue")